-- JOIN : 하나 이상의 테이블에서 데이터를 조회하기 위해 사용 

-- 사번, 사원 명, 부서 코드, 부서 명 조회
-- 두 컬럼의 이름이 다를 경우
SELECT EMP_ID,EMP_NAME,DEPT_CODE
FROM EMPLOYEE;

SELECT DEPT_ID,DEPT_TITLE
FROM DEPARTMENT;

SELECT EMP_ID, EMP_NAME, DEPT_CODE, DEPT_TITLE
FROM EMPLOYEE, DEPARTMENT
WHERE DEPT_CODE = DEPT_ID; -- 이너조인(내부조인), 오라클 구문

SELECT EMP_ID, EMP_NAME, DEPT_CODE, DEPT_TITLE
FROM EMPLOYEE
    JOIN DEPARTMENT ON(DEPT_CODE = DEPT_ID);
    
    
-- 두 컬럼 이름이 같은 경우
SELECT EMP_ID, EMP_NAME, J.JOB_CODE, JOB_NAME
FROM EMPLOYEE E, JOB J
WHERE E.JOB_CODE = J.JOB_CODE;
    

SELECT EMP_ID,EMP_NAME,JOB_CODE,JOB_NAME
FROM EMPLOYEE
     JOIN JOB USING(JOB_CODE);
     
-- 부서 명과 해당 부서의 지역 명 조회(DEPT_TITLE, LOCAL_NAME)
-- 오라클
SELECT DEPT_TITLE,LOCAL_NAME
FROM DEPARTMENT, LOCATION
WHERE LOCATION_ID = LOCAL_CODE;

-- ANSI
SELECT DEPT_TITLE,LOCAL_NAME
FROM LOCATION
JOIN DEPARTMENT ON(LOCATION_ID=LOCAL_CODE);


-- 외부 조인(OUTER JOIN)
-- 두 테이블의 지정하는 컬럼 값이 일치 하지 않는 행도 조인에 포함
-- LEFT [OUTER] JOIN : 왼쪽에 기술된 테이블의 컬럼 수를 기준으로 JOIN
-- ANSI 구문
SELECT EMP_NAME, DEPT_TITLE
FROM EMPLOYEE
    LEFT OUTER JOIN DEPARTMENT ON (DEPT_CODE = DEPT_ID);
    
-- ORACLE 구문
-- 맞춰주는 쪽에 (+) 붙임
SELECT EMP_NAME,DEPT_TITLE
FROM EMPLOYEE, DEPARTMENT
WHERE DEPT_CODE = DEPT_ID(+);       -- '내가 너한테 맞춰줄게~'라고 말하는 쪽에 (+)를 붙임

--RIGHT [OUTER] JOIN : 오른쪽에 기술된 테이블의 컬럼수를 기준으로 조인
SELECT EMP_NAME, DEPT_TITLE
FROM EMPLOYEE
    RIGHT JOIN DEPARTMENT ON(DEPT_CODE = DEPT_ID);

SELECT EMP_NAME, DEPT_TITLE
FROM EMPLOYEE,DEPARTMENT
WHERE DEPT_CODE(+) = DEPT_ID;

-- FULL [OUTER] JOIN : 합치기에 사용한 두 테이블이 가진 모든 행을 결과에 포함
-- ANSI
SELECT EMP_NAME, DEPT_TITLE
FROM EMPLOYEE
    FULL JOIN DEPARTMENT ON(DEPT_CODE = DEPT_ID);
    
-- ORACLE : FULL은 ORACLE은 불가함
SELECT EMP_NAME, DEPT_TITLE
FROM EMPLOYEE, DEPARTMENT
WHERE DEPT_CODE(+) = DEPT_ID;









